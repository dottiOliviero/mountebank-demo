{
    "port": 4545,
    "protocol": "http",
    "defaultResponse": {
        "statusCode": 400,
        "headers": {
            "Connection": "Keep-Alive",
            "Content-Length": 0
        },
        "body": "YOU HIT THE DEFAULT RESPONSE!!!"
    },
    "stubs": [
        {
            "responses": [
                {
                    "is": {
                        "statusCode": 500,
                        "body": "MyErrorMessage"
                    }
                }
            ],
            "predicates": [
                {
                    "equals": {
                        "path": "/listings",
                        "method": "GET",
                        "headers": {
                            "test-header": "this-should-fail-with-response"
                        }
                    }
                }
            ]
        },
        {
            "responses": [
                {
                    "is": {
                        "headers": {
                            "x-custom": "this-is-from-your-imposter"
                        },
                        "statusCode": 200,
                        "body": [
                            {
                                "id": "dfcc9945-9f9c-45c6-a6ea-553d08b92386",
                                "address": {
                                    "street": "Via Elia Lombardini",
                                    "number": 10,
                                    "city": "it/milano"
                                },
                                "price": 60000
                            },
                            {
                                "id": "6dd4ba56-de38-42ca-8d66-fb224f1e038f",
                                "address": {
                                    "street": "Via Carlo Urbani",
                                    "number": 34,
                                    "city": "it/torino"
                                },
                                "price": 80000
                            }
                        ]
                    }
                }
            ],
            "predicates": [
                {
                    "equals": {
                        "path": "/listings",
                        "method": "GET",
                        "headers": {
                            "Content-Type": "application/json"
                        }
                    }
                }
            ]
        },
        {
            "responses": [
                {
                    "is": {
                        "headers": {
                            "x-custom": "this-is-from-your-imposter"
                        },
                        "statusCode": 201,
                        "body": {
                            "id": "60d6f7d5-be32-4d98-b3fe-33341061d39c",
                            "address": {
                                "street": "Via Milano",
                                "number": 55,
                                "city": "it/torino"
                            },
                            "price": 300000
                        }
                    }
                }
            ],
            "predicates": [
                {
                    "and": [
                        {
                            "equals": {
                                "path": "/listings",
                                "method": "POST",
                                "headers": {
                                    "Content-Type": "application/json"
                                }
                            }
                        },
                        {
                            "contains": {
                                "body": "address"
                            }
                        }
                    ]
                }
            ]
        }
    ]
}
